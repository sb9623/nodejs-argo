const _0x28467f=_0x1c3d;function _0x2c5c(){const _0x2006bd=['arm','https://amd64.ssss.nyc.mn/agent','ARGO_AUTH','status','application/json','Error\x20in\x20startserver:','error','push','statSync','pipe','wssb','https://amd64.ssss.nyc.mn/v1','NEZHA_KEY','readFileSync','path','arm64','443','response','child_process','aarch64','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/config.json\x20>/dev/null\x202>&1\x20&','Content-Type','Hello\x20world!','\x20failed:\x20','Subscription\x20uploaded\x20successfully','data','createWriteStream','Empowerment\x20failed\x20for\x20','abcdefghijklmnopqrstuvwxyz','stringify','tunnel.json','?encryption=none&security=tls&sni=','block','finish','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://ipapi.co/json/','platform','false','tls','1595370xzhjAo','\x20already\x20exists','rm\x20-rf\x20','ARGO_DOMAIN:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','map','\x20successfully','2087','\x20>\x20nul\x202>&1','http','ArgoDomain:','automatic\x20access\x20task\x20added\x20successfully','set','PORT','Unhandled\x20error\x20in\x20startserver:','forEach','npm\x20running\x20error:\x20','then','config.yaml','php\x20running\x20error:\x20','all','basename','unshift','8443','includes','log','NEZHA_PORT','split','/vmess-argo','text/plain;\x20charset=utf-8','quic','get','Error\x20executing\x20command:\x20','https://amd64.ssss.nyc.mn/bot','web\x20running\x20error:\x20','match','tcp','/api/add-subscriptions','sub.txt','config.json','?security=tls&sni=','from','https://arm64.ssss.nyc.mn/web','charAt','Unknown','https://amd64.ssss.nyc.mn/web','&path=%2Fvless-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1\x20&','\x20is\x20running','3479588OdBNXh','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel.yml','App\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','127.0.0.1','success','AUTO_ACCESS','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','readdirSync','has','catch','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_PORT','\x0a\x0avmess://','&path=%2Ftrojan-argo%3Fed%3D2560#','join','direct','/trojan-argo','2053','Empowerment\x20success\x20for\x20','/vmess-argo?ed=2560','exec','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/vless-argo','130631xAhkFw','https+local://8.8.8.8/dns-query','existsSync','http\x20server\x20is\x20running\x20on\x20port:','mkdirSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','vless','UPLOAD_URL','env','/tunnel.yml\x20run','base64','list.txt','nohup\x20','eyJhIjoiMzQyNjNhYzk0NjViZjEwNjU2ZjQ1M2FmNDdhMzlkOGUiLCJ0IjoiNTgyNWJlOWItNzlmZC00Y2EzLWE5ZDctOGViYjI1YTNkNGRmIiwicyI6Ik1qazJOMkkwWXpndE4yUTBaUzAwT0RWaUxXSXhNR010TTJJMVltUXdaR1V3TURNMiJ9','b7af5b53-74e2-4875-81ae-733467e843b1','CFIP','Download\x20','filter','/dev/null','FILE_PATH','writeFileSync','https://arm64.ssss.nyc.mn/agent','toString','10SeTuhD','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','17953792jDtwVI','taskkill\x20/f\x20/im\x20','clear','fileUrl','length','2096','express','PROJECT_URL','\x0a\x20\x20tunnel:\x20','cdns.doon.eu.org','true','fileName','CFPORT','trojan','country_code','161646VRJEie','1943436mpFGwO','\x0a\x20\x20credentials-file:\x20','random','ARGO_DOMAIN','del\x20/f\x20/q\x20','SUB_PATH','\x20-c\x20\x22','utf-8','\x0aclient_secret:\x20','Nodes\x20uploaded\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','send','\x0avless://','countryCode','org','SERVER_PORT','stream','isFile','\x20is\x20created','\x20-p\x20','arch','xtls-rprx-vision','&fp=firefox&type=ws&host=','\x22\x20>\x20/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','unlink','UUID','\x0a\x0atrojan://','win32','vmess','/api/delete-nodes','unlinkSync','none','post','\x20-s\x20','chmod','leafflow','test','2083','1029196OmiYnj'];_0x2c5c=function(){return _0x2006bd;};return _0x2c5c();}(function(_0x20cca4,_0x577bc1){const _0x3954fb={_0x4ca778:0x1cf,_0x1d8486:0x16d,_0x465b7f:0x17f,_0x1094cf:0x16f},_0x237791=_0x1c3d,_0x38fad2=_0x20cca4();while(!![]){try{const _0x328eca=parseInt(_0x237791(0x21a))/0x1+-parseInt(_0x237791(0x17e))/0x2+-parseInt(_0x237791(_0x3954fb._0x4ca778))/0x3+-parseInt(_0x237791(0x1a6))/0x4+-parseInt(_0x237791(_0x3954fb._0x1d8486))/0x5*(parseInt(_0x237791(_0x3954fb._0x465b7f))/0x6)+-parseInt(_0x237791(0x200))/0x7+parseInt(_0x237791(_0x3954fb._0x1094cf))/0x8;if(_0x328eca===_0x577bc1)break;else _0x38fad2['push'](_0x38fad2['shift']());}catch(_0xc4f0d9){_0x38fad2['push'](_0x38fad2['shift']());}}}(_0x2c5c,0x57e6f));const express=require(_0x28467f(0x175)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x28467f(0x1b5)),{promisify}=require('util'),exec=promisify(require(_0x28467f(0x1b9))[_0x28467f(0x217)]),{execSync}=require(_0x28467f(0x1b9)),UPLOAD_URL=process['env'][_0x28467f(0x15d)]||'',PROJECT_URL=process[_0x28467f(0x15e)][_0x28467f(0x176)]||'',AUTO_ACCESS=process['env'][_0x28467f(0x207)]||![],FILE_PATH=process['env'][_0x28467f(0x169)]||'./tmp',SUB_PATH=process[_0x28467f(0x15e)][_0x28467f(0x184)]||_0x28467f(0x1b1),PORT=process[_0x28467f(0x15e)][_0x28467f(0x18e)]||process['env'][_0x28467f(0x1dc)]||0xbb8,UUID=process['env'][_0x28467f(0x199)]||_0x28467f(0x164),NEZHA_SERVER=process[_0x28467f(0x15e)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x28467f(0x15e)][_0x28467f(0x1e9)]||'',NEZHA_KEY=process[_0x28467f(0x15e)][_0x28467f(0x1b3)]||'',ARGO_DOMAIN=process[_0x28467f(0x15e)][_0x28467f(0x182)]||'leafflow1.kpk.pp.ua',ARGO_AUTH=process['env'][_0x28467f(0x1a9)]||_0x28467f(0x163),ARGO_PORT=process[_0x28467f(0x15e)][_0x28467f(0x20e)]||0x1f41,CFIP=process['env'][_0x28467f(0x165)]||_0x28467f(0x178),CFPORT=process[_0x28467f(0x15e)][_0x28467f(0x17b)]||0x1bb,NAME=process[_0x28467f(0x15e)]['NAME']||_0x28467f(0x1a3);!fs[_0x28467f(0x21c)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x28467f(0x1e8)](FILE_PATH+_0x28467f(0x191))):console[_0x28467f(0x1e8)](FILE_PATH+_0x28467f(0x1d0));function generateRandomName(){const _0x3be148={_0x4611aa:0x1c4},_0x408e4f=_0x28467f,_0x53a949=_0x408e4f(_0x3be148._0x4611aa);let _0x5b880c='';for(let _0xaa34b0=0x0;_0xaa34b0<0x6;_0xaa34b0++){_0x5b880c+=_0x53a949[_0x408e4f(0x1fa)](Math['floor'](Math[_0x408e4f(0x181)]()*_0x53a949['length']));}return _0x5b880c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x28467f(0x211)](FILE_PATH,npmName),phpPath=path[_0x28467f(0x211)](FILE_PATH,phpName),webPath=path[_0x28467f(0x211)](FILE_PATH,webName),botPath=path[_0x28467f(0x211)](FILE_PATH,botName),subPath=path[_0x28467f(0x211)](FILE_PATH,_0x28467f(0x1f5)),listPath=path[_0x28467f(0x211)](FILE_PATH,_0x28467f(0x161)),bootLogPath=path[_0x28467f(0x211)](FILE_PATH,'boot.log'),configPath=path[_0x28467f(0x211)](FILE_PATH,'config.json');function deleteNodes(){const _0x47af30={_0x15f4de:0x1b4,_0x293498:0x1f8,_0x3f8327:0x16c,_0x29dd74:0x186,_0x4f8d0f:0x167,_0x4a3f20:0x173,_0x3cf711:0x1ab,_0x131976:0x20c},_0x4df6a5=_0x28467f;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2514e4;try{_0x2514e4=fs[_0x4df6a5(_0x47af30._0x15f4de)](subPath,_0x4df6a5(0x186));}catch{return null;}const _0x2dcd1e=Buffer[_0x4df6a5(_0x47af30._0x293498)](_0x2514e4,_0x4df6a5(0x160))[_0x4df6a5(_0x47af30._0x3f8327)](_0x4df6a5(_0x47af30._0x29dd74)),_0x430472=_0x2dcd1e['split']('\x0a')[_0x4df6a5(_0x47af30._0x4f8d0f)](_0x4478c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4df6a5(0x1a4)](_0x4478c5));if(_0x430472[_0x4df6a5(_0x47af30._0x4a3f20)]===0x0)return;return axios['post'](UPLOAD_URL+_0x4df6a5(0x19d),JSON[_0x4df6a5(0x1c5)]({'nodes':_0x430472}),{'headers':{'Content-Type':_0x4df6a5(_0x47af30._0x3cf711)}})[_0x4df6a5(_0x47af30._0x131976)](_0x391e65=>{return null;}),null;}catch(_0x4aca5a){return null;}}function cleanupOldFiles(){const _0x512b62={_0xcd7883:0x20a},_0x148b69={_0x1d04b6:0x211,_0x323ee9:0x1af},_0x2d3324=_0x28467f;try{const _0x334db2=fs[_0x2d3324(_0x512b62._0xcd7883)](FILE_PATH);_0x334db2[_0x2d3324(0x1de)](_0x3cff59=>{const _0x23bf3d=_0x2d3324,_0x3bd629=path[_0x23bf3d(_0x148b69._0x1d04b6)](FILE_PATH,_0x3cff59);try{const _0x280401=fs[_0x23bf3d(_0x148b69._0x323ee9)](_0x3bd629);_0x280401[_0x23bf3d(0x190)]()&&fs[_0x23bf3d(0x19e)](_0x3bd629);}catch(_0x3393a0){}});}catch(_0x19a8a3){}}app['get']('/',function(_0x58b9af,_0x37ff9c){const _0x1918f5={_0x56f80f:0x18a,_0x199178:0x1be},_0x13c598=_0x28467f;_0x37ff9c[_0x13c598(_0x1918f5._0x56f80f)](_0x13c598(_0x1918f5._0x199178));});async function generateConfig(){const _0x2f4816={_0xdeb9f4:0x219,_0xbb8895:0x1f3,_0x212c8b:0x19f,_0x5b931b:0x205,_0xce8cf3:0x15c,_0x37dd4f:0x1d8,_0x30533e:0x1eb,_0x385fca:0x1ce,_0xd57daf:0x21b,_0x21fd02:0x212,_0x6a63fe:0x1c8,_0x9ff427:0x16a},_0x270acb=_0x28467f,_0x49c374={'log':{'access':_0x270acb(0x168),'error':_0x270acb(0x168),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x270acb(0x194)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x270acb(_0x2f4816._0xdeb9f4),'dest':0xbba},{'path':_0x270acb(0x1eb),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x270acb(_0x2f4816._0xbb8895)}},{'port':0xbb9,'listen':_0x270acb(0x205),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x270acb(_0x2f4816._0x212c8b)},'streamSettings':{'network':'tcp','security':_0x270acb(0x19f)}},{'port':0xbba,'listen':_0x270acb(_0x2f4816._0x5b931b),'protocol':_0x270acb(_0x2f4816._0xce8cf3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x270acb(0x19f)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x270acb(0x219)}},'sniffing':{'enabled':!![],'destOverride':[_0x270acb(_0x2f4816._0x37dd4f),_0x270acb(0x1ce),_0x270acb(0x1ed)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x270acb(0x19c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x270acb(_0x2f4816._0x30533e)}},'sniffing':{'enabled':!![],'destOverride':[_0x270acb(0x1d8),_0x270acb(0x1ce),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x270acb(0x205),'protocol':_0x270acb(0x17c),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x270acb(0x19f),'wsSettings':{'path':_0x270acb(0x213)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x270acb(_0x2f4816._0x385fca),_0x270acb(0x1ed)],'metadataOnly':![]}}],'dns':{'servers':[_0x270acb(_0x2f4816._0xd57daf)]},'outbounds':[{'protocol':'freedom','tag':_0x270acb(_0x2f4816._0x21fd02)},{'protocol':'blackhole','tag':_0x270acb(_0x2f4816._0x6a63fe)}]};fs[_0x270acb(_0x2f4816._0x9ff427)](path[_0x270acb(0x211)](FILE_PATH,_0x270acb(0x1f6)),JSON[_0x270acb(0x1c5)](_0x49c374,null,0x2));}function getSystemArchitecture(){const _0x15e112={_0x300cd5:0x1b6,_0x403981:0x1ba},_0x46ce00=_0x28467f,_0x5e3ad8=os[_0x46ce00(0x193)]();return _0x5e3ad8==='arm'||_0x5e3ad8===_0x46ce00(_0x15e112._0x300cd5)||_0x5e3ad8===_0x46ce00(_0x15e112._0x403981)?'arm':'amd';}function downloadFile(_0x218226,_0x589740,_0x31116c){const _0x188cec={_0x15ae5a:0x21e,_0x29b9f5:0x1c2,_0x46de77:0x20c},_0x21430={_0x1a0aa5:0x1bf,_0x33ec9a:0x1ad},_0x59ec63={_0x2a26c:0x1b0},_0x289872={_0x309957:0x1e8,_0x4d5888:0x166,_0x3f51d4:0x1e4},_0x440abf=_0x28467f,_0x2006b4=_0x218226;!fs[_0x440abf(0x21c)](FILE_PATH)&&fs[_0x440abf(_0x188cec._0x15ae5a)](FILE_PATH,{'recursive':!![]});const _0x35b9b9=fs[_0x440abf(_0x188cec._0x29b9f5)](_0x2006b4);axios({'method':'get','url':_0x589740,'responseType':_0x440abf(0x18f)})[_0x440abf(0x1e0)](_0x851620=>{const _0x4abdcf={_0x380f0b:0x198,_0x57934a:0x166,_0x528d64:0x1e4},_0x44eab8=_0x440abf;_0x851620[_0x44eab8(0x1c1)][_0x44eab8(_0x59ec63._0x2a26c)](_0x35b9b9),_0x35b9b9['on'](_0x44eab8(0x1c9),()=>{const _0x1e177f=_0x44eab8;_0x35b9b9['close'](),console[_0x1e177f(_0x289872._0x309957)](_0x1e177f(_0x289872._0x4d5888)+path[_0x1e177f(_0x289872._0x3f51d4)](_0x2006b4)+_0x1e177f(0x1d5)),_0x31116c(null,_0x2006b4);}),_0x35b9b9['on'](_0x44eab8(0x1ad),_0x5a2d07=>{const _0x2444a7=_0x44eab8;fs[_0x2444a7(_0x4abdcf._0x380f0b)](_0x2006b4,()=>{});const _0x329519=_0x2444a7(_0x4abdcf._0x57934a)+path[_0x2444a7(_0x4abdcf._0x528d64)](_0x2006b4)+'\x20failed:\x20'+_0x5a2d07['message'];console[_0x2444a7(0x1ad)](_0x329519),_0x31116c(_0x329519);});})[_0x440abf(_0x188cec._0x46de77)](_0x344eca=>{const _0xb316b=_0x440abf,_0x466655=_0xb316b(0x166)+path[_0xb316b(0x1e4)](_0x2006b4)+_0xb316b(_0x21430._0x1a0aa5)+_0x344eca['message'];console[_0xb316b(_0x21430._0x33ec9a)](_0x466655),_0x31116c(_0x466655);});}async function downloadFilesAndRun(){const _0x360472={_0x2249d1:0x1e8,_0x36cddf:0x1d4,_0x569579:0x179,_0x47a537:0x1cd,_0x30917d:0x187,_0x38890b:0x1d3,_0x1bc48d:0x208,_0xddd4ac:0x211,_0x6613e8:0x1e1,_0x99b2b:0x1e2,_0x382b38:0x1b7,_0x382339:0x174,_0x15bab1:0x214,_0x8d82e8:0x1e7,_0x2d2029:0x1ad,_0x487faa:0x1df,_0x26db6b:0x1bc,_0x5dd0ed:0x1ff,_0x528668:0x1ad,_0x5f0d58:0x1f1,_0x4e9a59:0x15f,_0x2bd544:0x16e,_0x3980f6:0x1fe},_0x2fc4c1={_0x1a673a:0x1de},_0x31a3f7={_0x2c7b6a:0x1a2},_0x3a024d=_0x28467f,_0xfcd68a=getSystemArchitecture(),_0x45a8f8=getFilesForArchitecture(_0xfcd68a);if(_0x45a8f8[_0x3a024d(0x173)]===0x0){console[_0x3a024d(_0x360472._0x2249d1)](_0x3a024d(0x21f));return;}const _0x5aab9d=_0x45a8f8[_0x3a024d(_0x360472._0x36cddf)](_0x4ccd28=>{const _0x4e0aef={_0x95c653:0x17a,_0x4d1e0c:0x172};return new Promise((_0x106435,_0x55dd11)=>{const _0xdd113d=_0x1c3d;downloadFile(_0x4ccd28[_0xdd113d(_0x4e0aef._0x95c653)],_0x4ccd28[_0xdd113d(_0x4e0aef._0x4d1e0c)],(_0x178bf1,_0x402854)=>{_0x178bf1?_0x55dd11(_0x178bf1):_0x106435(_0x402854);});});});try{await Promise[_0x3a024d(0x1e3)](_0x5aab9d);}catch(_0x76a9da){console[_0x3a024d(0x1ad)]('Error\x20downloading\x20files:',_0x76a9da);return;}function _0x443461(_0x35fcab){const _0x2d800b={_0x599f36:0x1c3,_0x1a2441:0x215,_0x19a536:0x16c},_0x450eb2=_0x3a024d,_0x18a765=0x1fd;_0x35fcab[_0x450eb2(_0x2fc4c1._0x1a673a)](_0x4b64b8=>{const _0x2f5186=_0x450eb2;fs[_0x2f5186(0x21c)](_0x4b64b8)&&fs[_0x2f5186(_0x31a3f7._0x2c7b6a)](_0x4b64b8,_0x18a765,_0x23862e=>{const _0xb5652b=_0x2f5186;_0x23862e?console['error'](_0xb5652b(_0x2d800b._0x599f36)+_0x4b64b8+':\x20'+_0x23862e):console[_0xb5652b(0x1e8)](_0xb5652b(_0x2d800b._0x1a2441)+_0x4b64b8+':\x20'+_0x18a765[_0xb5652b(_0x2d800b._0x19a536)](0x8));});});}const _0x132cf3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x443461(_0x132cf3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x29f9aa=NEZHA_SERVER[_0x3a024d(0x1e7)](':')?NEZHA_SERVER[_0x3a024d(0x1ea)](':')['pop']():'',_0x45f9cb=new Set(['443',_0x3a024d(0x1e6),_0x3a024d(0x174),'2087','2083',_0x3a024d(0x214)]),_0x2b6d4a=_0x45f9cb[_0x3a024d(0x20b)](_0x29f9aa)?_0x3a024d(_0x360472._0x569579):_0x3a024d(_0x360472._0x47a537),_0x34b100=_0x3a024d(_0x360472._0x30917d)+NEZHA_KEY+_0x3a024d(_0x360472._0x38890b)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x2b6d4a+_0x3a024d(_0x360472._0x1bc48d)+UUID;fs[_0x3a024d(0x16a)](path[_0x3a024d(_0x360472._0xddd4ac)](FILE_PATH,_0x3a024d(_0x360472._0x6613e8)),_0x34b100);const _0x3d49b4=_0x3a024d(0x162)+phpPath+_0x3a024d(0x185)+FILE_PATH+_0x3a024d(0x201);try{await exec(_0x3d49b4),console[_0x3a024d(0x1e8)](phpName+'\x20is\x20running'),await new Promise(_0x1d4678=>setTimeout(_0x1d4678,0x3e8));}catch(_0x48479c){console[_0x3a024d(0x1ad)](_0x3a024d(_0x360472._0x99b2b)+_0x48479c);}}else{let _0x1daf16='';const _0x62de71=[_0x3a024d(_0x360472._0x382b38),'8443',_0x3a024d(_0x360472._0x382339),_0x3a024d(0x1d6),_0x3a024d(0x1a5),_0x3a024d(_0x360472._0x15bab1)];_0x62de71[_0x3a024d(_0x360472._0x8d82e8)](NEZHA_PORT)&&(_0x1daf16='--tls');const _0x528b42='nohup\x20'+npmPath+_0x3a024d(0x1a1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3a024d(0x192)+NEZHA_KEY+'\x20'+_0x1daf16+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x528b42),console[_0x3a024d(_0x360472._0x2249d1)](npmName+_0x3a024d(0x1ff)),await new Promise(_0x34fd16=>setTimeout(_0x34fd16,0x3e8));}catch(_0x5b0b13){console[_0x3a024d(_0x360472._0x2d2029)](_0x3a024d(_0x360472._0x487faa)+_0x5b0b13);}}}else console[_0x3a024d(_0x360472._0x2249d1)](_0x3a024d(0x209));const _0x7f8e40=_0x3a024d(0x162)+webPath+'\x20-c\x20'+FILE_PATH+_0x3a024d(_0x360472._0x26db6b);try{await exec(_0x7f8e40),console[_0x3a024d(0x1e8)](webName+_0x3a024d(_0x360472._0x5dd0ed)),await new Promise(_0x4c7ce6=>setTimeout(_0x4c7ce6,0x3e8));}catch(_0x4288bc){console[_0x3a024d(_0x360472._0x528668)](_0x3a024d(_0x360472._0x5f0d58)+_0x4288bc);}if(fs['existsSync'](botPath)){let _0x2f7257;if(ARGO_AUTH[_0x3a024d(0x1f2)](/^[A-Z0-9a-z=]{120,250}$/))_0x2f7257=_0x3a024d(0x197)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2f7257=_0x3a024d(0x189)+FILE_PATH+_0x3a024d(_0x360472._0x4e9a59):_0x2f7257=_0x3a024d(_0x360472._0x2bd544)+FILE_PATH+_0x3a024d(0x1bb)+ARGO_PORT;try{await exec(_0x3a024d(0x162)+botPath+'\x20'+_0x2f7257+_0x3a024d(_0x360472._0x3980f6)),console[_0x3a024d(0x1e8)](botName+_0x3a024d(0x1ff)),await new Promise(_0x1dc9c7=>setTimeout(_0x1dc9c7,0x7d0));}catch(_0x27c055){console['error'](_0x3a024d(0x1ef)+_0x27c055);}}await new Promise(_0x1fb164=>setTimeout(_0x1fb164,0x1388));}function getFilesForArchitecture(_0x28d66e){const _0x4aa34e={_0x379f86:0x1a7,_0x5a13d9:0x1f9,_0xc5912:0x16b,_0x512c41:0x1a8,_0xf8e15f:0x1b2},_0x47b662=_0x28467f;let _0x3bceb6;_0x28d66e===_0x47b662(_0x4aa34e._0x379f86)?_0x3bceb6=[{'fileName':webPath,'fileUrl':_0x47b662(_0x4aa34e._0x5a13d9)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3bceb6=[{'fileName':webPath,'fileUrl':_0x47b662(0x1fc)},{'fileName':botPath,'fileUrl':_0x47b662(0x1f0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x6e25c5=_0x28d66e===_0x47b662(_0x4aa34e._0x379f86)?_0x47b662(_0x4aa34e._0xc5912):_0x47b662(_0x4aa34e._0x512c41);_0x3bceb6[_0x47b662(0x1e5)]({'fileName':npmPath,'fileUrl':_0x6e25c5});}else{const _0x15ffd6=_0x28d66e===_0x47b662(0x1a7)?'https://arm64.ssss.nyc.mn/v1':_0x47b662(_0x4aa34e._0xf8e15f);_0x3bceb6['unshift']({'fileName':phpPath,'fileUrl':_0x15ffd6});}}return _0x3bceb6;}function argoType(){const _0x50c368={_0x595e1b:0x1e8,_0x22af32:0x218,_0xd2408:0x16a,_0x4719a7:0x211,_0xaa231a:0x1c6,_0x4bed16:0x1ea,_0x1a21ee:0x16a,_0x3d9112:0x202},_0x330636=_0x28467f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x330636(_0x50c368._0x595e1b)](_0x330636(_0x50c368._0x22af32));return;}if(ARGO_AUTH[_0x330636(0x1e7)]('TunnelSecret')){fs[_0x330636(_0x50c368._0xd2408)](path[_0x330636(_0x50c368._0x4719a7)](FILE_PATH,_0x330636(_0x50c368._0xaa231a)),ARGO_AUTH);const _0x483a3a=_0x330636(0x177)+ARGO_AUTH[_0x330636(_0x50c368._0x4bed16)]('\x22')[0xb]+_0x330636(0x180)+path[_0x330636(_0x50c368._0x4719a7)](FILE_PATH,_0x330636(_0x50c368._0xaa231a))+_0x330636(0x1ca)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x330636(_0x50c368._0x1a21ee)](path[_0x330636(0x211)](FILE_PATH,_0x330636(_0x50c368._0x3d9112)),_0x483a3a);}else console[_0x330636(_0x50c368._0x595e1b)](_0x330636(0x204));}function _0x1c3d(_0xed62ca,_0x1c37bf){const _0x2c5c89=_0x2c5c();return _0x1c3d=function(_0x1c3d6b,_0xc7d920){_0x1c3d6b=_0x1c3d6b-0x15c;let _0x2e30f1=_0x2c5c89[_0x1c3d6b];return _0x2e30f1;},_0x1c3d(_0xed62ca,_0x1c37bf);}async function extractDomains(){const _0x58f386={_0xb4a5eb:0x1d2,_0x4d22e8:0x1ea,_0x3acf2a:0x173,_0x25642c:0x1d9,_0xb72aca:0x1e8,_0x1e6b21:0x19e,_0x56cd0a:0x211,_0x385b24:0x16e},_0x5e6fec={_0x2ff963:0x1ee,_0x28ccca:0x1cb,_0x53c29a:0x1c1,_0x3bec30:0x17d,_0x2d7387:0x18d,_0x62d4eb:0x18c,_0x4e0929:0x1fb},_0x42b2d3={_0x2988ae:0x19b},_0x17ac0b=_0x28467f;let _0xec6cfa;if(ARGO_AUTH&&ARGO_DOMAIN)_0xec6cfa=ARGO_DOMAIN,console['log'](_0x17ac0b(_0x58f386._0xb4a5eb),_0xec6cfa),await _0x1d3c2c(_0xec6cfa);else try{const _0x3a972a=fs[_0x17ac0b(0x1b4)](path[_0x17ac0b(0x211)](FILE_PATH,'boot.log'),'utf-8'),_0xb6d660=_0x3a972a[_0x17ac0b(_0x58f386._0x4d22e8)]('\x0a'),_0x159322=[];_0xb6d660['forEach'](_0x35caa3=>{const _0x50f1c7=_0x17ac0b,_0x21bfe1=_0x35caa3[_0x50f1c7(0x1f2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x21bfe1){const _0x1d8dcc=_0x21bfe1[0x1];_0x159322[_0x50f1c7(0x1ae)](_0x1d8dcc);}});if(_0x159322[_0x17ac0b(_0x58f386._0x3acf2a)]>0x0)_0xec6cfa=_0x159322[0x0],console[_0x17ac0b(0x1e8)](_0x17ac0b(_0x58f386._0x25642c),_0xec6cfa),await _0x1d3c2c(_0xec6cfa);else{console[_0x17ac0b(_0x58f386._0xb72aca)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x17ac0b(_0x58f386._0x1e6b21)](path[_0x17ac0b(_0x58f386._0x56cd0a)](FILE_PATH,'boot.log'));async function _0x365211(){const _0x1ab794=_0x17ac0b;try{process[_0x1ab794(0x1cc)]===_0x1ab794(_0x42b2d3._0x2988ae)?await exec(_0x1ab794(0x170)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x1ab794(0x1fa)](0x0)+']'+botName['substring'](0x1)+_0x1ab794(0x196));}catch(_0x19b2ba){}}_0x365211(),await new Promise(_0x45fda3=>setTimeout(_0x45fda3,0xbb8));const _0x1b415f=_0x17ac0b(_0x58f386._0x385b24)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1b415f+_0x17ac0b(0x1fe)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x2e8343=>setTimeout(_0x2e8343,0xbb8)),await extractDomains();}catch(_0x1385b1){console[_0x17ac0b(0x1ad)]('Error\x20executing\x20command:\x20'+_0x1385b1);}}}catch(_0x241990){console['error']('Error\x20reading\x20boot.log:',_0x241990);}async function _0x5a0a7f(){const _0x23bf44=_0x17ac0b;try{const _0x307ac8=await axios[_0x23bf44(_0x5e6fec._0x2ff963)](_0x23bf44(_0x5e6fec._0x28ccca),{'timeout':0xbb8});if(_0x307ac8['data']&&_0x307ac8[_0x23bf44(_0x5e6fec._0x53c29a)][_0x23bf44(_0x5e6fec._0x3bec30)]&&_0x307ac8['data'][_0x23bf44(_0x5e6fec._0x2d7387)])return _0x307ac8['data'][_0x23bf44(0x17d)]+'_'+_0x307ac8['data']['org'];}catch(_0x57e200){try{const _0xed3e9a=await axios[_0x23bf44(0x1ee)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0xed3e9a[_0x23bf44(_0x5e6fec._0x53c29a)]&&_0xed3e9a[_0x23bf44(0x1c1)][_0x23bf44(0x1aa)]===_0x23bf44(0x206)&&_0xed3e9a[_0x23bf44(0x1c1)]['countryCode']&&_0xed3e9a[_0x23bf44(0x1c1)][_0x23bf44(0x18d)])return _0xed3e9a['data'][_0x23bf44(_0x5e6fec._0x62d4eb)]+'_'+_0xed3e9a[_0x23bf44(0x1c1)]['org'];}catch(_0x19c399){}}return _0x23bf44(_0x5e6fec._0x4e0929);}async function _0x1d3c2c(_0x704503){const _0x3e6602=await _0x5a0a7f(),_0x59b1e0=NAME?NAME+'-'+_0x3e6602:_0x3e6602;return new Promise(_0x259367=>{const _0x4123a3={_0x21b9d7:0x19f,_0x217c4c:0x1ce,_0x278efb:0x18b,_0x3e74b7:0x195,_0x484131:0x1c5,_0x5e796a:0x16c,_0x2ec6ea:0x19a,_0x1fd7d4:0x1f7,_0x45d87d:0x210,_0x60a948:0x1f8,_0x1d20c6:0x1e8,_0xb49639:0x1ee};setTimeout(()=>{const _0x37e661={_0x3b776b:0x1f8,_0x57bfd2:0x160,_0x430132:0x1db,_0x49d25e:0x1bd,_0x188d03:0x18a},_0x21d6bb=_0x1c3d,_0x3dda26={'v':'2','ps':''+_0x59b1e0,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x21d6bb(_0x4123a3._0x21b9d7),'net':'ws','type':'none','host':_0x704503,'path':_0x21d6bb(0x216),'tls':_0x21d6bb(_0x4123a3._0x217c4c),'sni':_0x704503,'alpn':'','fp':'firefox'},_0x1f28cf=_0x21d6bb(_0x4123a3._0x278efb)+UUID+'@'+CFIP+':'+CFPORT+_0x21d6bb(0x1c7)+_0x704503+_0x21d6bb(_0x4123a3._0x3e74b7)+_0x704503+_0x21d6bb(0x1fd)+_0x59b1e0+_0x21d6bb(0x20f)+Buffer['from'](JSON[_0x21d6bb(_0x4123a3._0x484131)](_0x3dda26))[_0x21d6bb(_0x4123a3._0x5e796a)]('base64')+_0x21d6bb(_0x4123a3._0x2ec6ea)+UUID+'@'+CFIP+':'+CFPORT+_0x21d6bb(_0x4123a3._0x1fd7d4)+_0x704503+_0x21d6bb(0x195)+_0x704503+_0x21d6bb(_0x4123a3._0x45d87d)+_0x59b1e0+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x21d6bb(_0x4123a3._0x60a948)](_0x1f28cf)[_0x21d6bb(0x16c)](_0x21d6bb(0x160))),fs['writeFileSync'](subPath,Buffer[_0x21d6bb(0x1f8)](_0x1f28cf)[_0x21d6bb(0x16c)]('base64')),console[_0x21d6bb(_0x4123a3._0x1d20c6)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x21d6bb(_0x4123a3._0xb49639)]('/'+SUB_PATH,(_0x2be94f,_0xa6f2f3)=>{const _0x385833=_0x21d6bb,_0x36381d=Buffer[_0x385833(_0x37e661._0x3b776b)](_0x1f28cf)[_0x385833(0x16c)](_0x385833(_0x37e661._0x57bfd2));_0xa6f2f3[_0x385833(_0x37e661._0x430132)](_0x385833(_0x37e661._0x49d25e),_0x385833(0x1ec)),_0xa6f2f3[_0x385833(_0x37e661._0x188d03)](_0x36381d);}),_0x259367(_0x1f28cf);},0x7d0);});}}async function uploadNodes(){const _0x34c7f9={_0x520c1d:0x1f4,_0x572d76:0x1c0,_0x1cb9d1:0x1b8,_0x464e4a:0x1b4,_0x1dc1f8:0x186,_0x489421:0x1c5,_0xf46bb8:0x188},_0x38a459=_0x28467f;if(UPLOAD_URL&&PROJECT_URL){const _0x39887d=PROJECT_URL+'/'+SUB_PATH,_0x33363d={'subscription':[_0x39887d]};try{const _0x542985=await axios[_0x38a459(0x1a0)](UPLOAD_URL+_0x38a459(_0x34c7f9._0x520c1d),_0x33363d,{'headers':{'Content-Type':_0x38a459(0x1ab)}});return _0x542985&&_0x542985[_0x38a459(0x1aa)]===0xc8?(console['log'](_0x38a459(_0x34c7f9._0x572d76)),_0x542985):null;}catch(_0x37f465){if(_0x37f465['response']){if(_0x37f465[_0x38a459(_0x34c7f9._0x1cb9d1)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x38a459(0x21c)](listPath))return;const _0x3efaab=fs[_0x38a459(_0x34c7f9._0x464e4a)](listPath,_0x38a459(_0x34c7f9._0x1dc1f8)),_0x404ff2=_0x3efaab[_0x38a459(0x1ea)]('\x0a')[_0x38a459(0x167)](_0x441b84=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x38a459(0x1a4)](_0x441b84));if(_0x404ff2['length']===0x0)return;const _0x55398f=JSON[_0x38a459(_0x34c7f9._0x489421)]({'nodes':_0x404ff2});try{const _0x3d21e8=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x55398f,{'headers':{'Content-Type':'application/json'}});return _0x3d21e8&&_0x3d21e8[_0x38a459(0x1aa)]===0xc8?(console[_0x38a459(0x1e8)](_0x38a459(_0x34c7f9._0xf46bb8)),_0x3d21e8):null;}catch(_0x3c1099){return null;}}else return;}}function cleanFiles(){const _0x2dee51={_0x387f6b:0x1ae,_0x387818:0x1cc,_0xdf41f4:0x19b};setTimeout(()=>{const _0x35f147={_0x8ced73:0x1e8,_0x104cb7:0x203},_0x2a574a={_0x49b0f1:0x171,_0x2554b1:0x203,_0x36a2e1:0x20d},_0x4e4824=_0x1c3d,_0x2c4f2f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c4f2f[_0x4e4824(0x1ae)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c4f2f[_0x4e4824(_0x2dee51._0x387f6b)](phpPath);process[_0x4e4824(_0x2dee51._0x387818)]===_0x4e4824(_0x2dee51._0xdf41f4)?exec(_0x4e4824(0x183)+_0x2c4f2f[_0x4e4824(0x211)]('\x20')+_0x4e4824(0x1d7),_0xc884b8=>{const _0x137a57=_0x4e4824;console[_0x137a57(_0x2a574a._0x49b0f1)](),console['log'](_0x137a57(_0x2a574a._0x2554b1)),console['log'](_0x137a57(_0x2a574a._0x36a2e1));}):exec(_0x4e4824(0x1d1)+_0x2c4f2f['join']('\x20')+'\x20>/dev/null\x202>&1',_0x194046=>{const _0xf20bac=_0x4e4824;console['clear'](),console[_0xf20bac(_0x35f147._0x8ced73)](_0xf20bac(_0x35f147._0x104cb7)),console[_0xf20bac(0x1e8)](_0xf20bac(0x20d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x272081={_0x37db4b:0x1a0,_0x333769:0x1e8,_0x233e65:0x1ad},_0x1053f0=_0x28467f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1053f0(0x1e8)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3eb976=await axios[_0x1053f0(_0x272081._0x37db4b)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x1053f0(_0x272081._0x333769)](_0x1053f0(0x1da)),_0x3eb976;}catch(_0x154dda){return console[_0x1053f0(_0x272081._0x233e65)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x154dda['message']),null;}}async function startserver(){const _0x1640c2={_0x354384:0x1ad},_0x489579=_0x28467f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5eec3b){console[_0x489579(_0x1640c2._0x354384)](_0x489579(0x1ac),_0x5eec3b);}}startserver()[_0x28467f(0x20c)](_0x5191f3=>{const _0x2b26f1={_0x256a99:0x1ad},_0x942f06=_0x28467f;console[_0x942f06(_0x2b26f1._0x256a99)](_0x942f06(0x1dd),_0x5191f3);}),app['listen'](PORT,()=>console[_0x28467f(0x1e8)](_0x28467f(0x21d)+PORT+'!'));
